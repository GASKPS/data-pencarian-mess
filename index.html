<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mess Karyawan</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- html2canvas -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
:root {
  --bg:#f1f3f6; --card:#ffffff; --text:#111827; --primary:#1e3a8a; --border:#ddd;
}
body.dark { --bg:#0f172a; --card:#020617; --text:#e5e7eb; --primary:#60a5fa; --border:#334155; }

body {
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  padding:40px 15px;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  font-family:"Segoe UI",sans-serif;
}

.card {
  max-width:950px;
  width:100%;
  background:var(--card);
  border-radius:16px;
  padding:25px;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
  position:relative;
}

h2 { text-align:center; color:var(--primary); margin-bottom:10px; }
.dark-toggle { text-align:right; margin-bottom:10px; }
.form-control,.btn { height:45px; border-radius:10px; }

.table-container {
  max-height:380px;
  overflow:auto;
  border-radius:10px;
  background:var(--card);
  box-shadow:0 4px 12px rgba(0,0,0,.1);
}
table { width:100%; border-collapse:collapse; }
th { position:sticky; top:0; background:var(--primary); color:#fff; }
th,td { border:1px solid var(--border); padding:8px; font-size:14px; }

/* Screenshot only */
#screenshot-header { display:none; text-align:center; margin-bottom:10px; }
#screenshot-header img { height:50px; margin-bottom:6px; }
.watermark {
  position:absolute; bottom:20px; right:20px;
  font-size:24px; opacity:0.08; transform:rotate(-20deg);
  pointer-events:none; font-weight:700; display:none;
}
</style>
</head>
<body>

<div class="card" id="cardRoot">

  <div class="dark-toggle">
    <button class="btn btn-outline-primary btn-sm" onclick="toggleDark()">üåô / ‚òÄÔ∏è</button>
  </div>

  <h2>Mess Karyawan</h2>

  <!-- Screenshot header -->
  <div id="screenshot-header">
    <img src="logo.png" alt="Logo">
    <h5 style="margin:0;font-weight:600">Data Mess Karyawan</h5>
    <small id="screenshot-time"></small>
  </div>

  <div class="watermark" id="watermark">NAMA PERUSAHAAN</div>

  <!-- Tabs -->
  <ul class="nav nav-tabs justify-content-center mb-3">
    <li class="nav-item">
      <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab1">NIK / Nama</button>
    </li>
    <li class="nav-item">
      <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab2">Block / No Kamar</button>
    </li>
  </ul>

  <div class="tab-content">

    <!-- TAB 1 -->
    <div class="tab-pane fade show active" id="tab1">
      <div class="row g-2 mb-3">
        <div class="col-md-9">
          <input id="cariNik" class="form-control" placeholder="Cari NIK atau Nama">
        </div>
